+ 课程目标
	+ 回顾下秒杀的解决方案 
	+ 防止秒杀重复排队 
	+ 超卖问题的解决
	+ 订单支付功能(改造)
	+ 超时/失败,支付订单 库存回滚

	+ 超时(rabbitmq的延时队列-->())


+解决 排队重复的问题


	
+解决超卖的问题
	+ 使用redis的队列
	+ 先从左边压入队列中
	+ 再从右边获取,能获取到,放行 ,取不到,就说明没有库存.



+支付超时 做处理
    + 多线程下单的时候 发送一个[延时消息](半个小时)
    + 秒杀订单微服务监听消息(过了30分钟之后才会收到)
    + 查询数据库的数据
            + 如果有数据 说明支付成功,不用管了
            + 如果没有数据,说明超时,关闭微信的支付的订单,1.删除预订单.2 恢复库存 3.删除状态标识信息

    /或者查询redis中的抢单的状态对象(判断)
            + 有数据 说明还没不支付(超时了) 关闭微信的支付的订单,1.删除预订单.2 恢复库存 3.删除状态标识信息
            + 没有数据 说明支付成功/失败,不用管